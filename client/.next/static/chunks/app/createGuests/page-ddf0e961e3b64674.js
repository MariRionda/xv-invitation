(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[335],{7284:function(e,t,n){Promise.resolve().then(n.bind(n,7213))},9842:function(e){e.exports={form:"newGuest_form__2vg9_",stitle:"newGuest_stitle__0NQyT",sselect:"newGuest_sselect__42rIw",container:"newGuest_container__Wy9e5",inputWrapper:"newGuest_inputWrapper__RSnEv",label:"newGuest_label__uBmjO",input:"newGuest_input__rlri3",button:"newGuest_button__QONMp",divList:"newGuest_divList__vaCGv",List:"newGuest_List__v3NAl"}},7213:function(e,t,n){"use strict";n.r(t);var s=n(9268),i=n(6006),a=n(4214),r=n(9842),o=n.n(r),l=n(856),c=n.n(l);let u="https://xv-invitation.onrender.com/",d={name:"",state:"No confirm\xf3",phone:""},m=(e,t)=>{let n=c().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",c().stopTimer),e.addEventListener("mouseleave",c().resumeTimer)}});n.fire({icon:e,title:t})},h=()=>{let[e,t]=(0,i.useState)(d),[n,r]=(0,i.useState)([]),l=async e=>{await a.Z.post("".concat(u,"guest/"),e).then(e=>{m("success",e.data.msg),t(d)}).catch(e=>{console.error(e)})},h=async()=>{await a.Z.get("".concat(u,"guest/all")).then(e=>{r(e.data)}).catch(e=>{console.error(e)})},p=async e=>{await a.Z.delete("".concat(u,"guest/").concat(e)).then(e=>{r(e.data)}).catch(e=>{console.error(e)})};(0,i.useEffect)(()=>{h()},[e]);let v=n=>{n.preventDefault(),t({...e,[n.target.name]:n.target.value})},_=()=>{c().fire({html:'\n        <div>\n        <h1 style="font-size: 17px;">Eliminar invitado</h1>\n        <select id="guest-select" class="swal2-input" style="font-size: 15px;">\n          '.concat(null==n?void 0:n.map(e=>'<option value="'.concat(e.id,'">').concat(e.name,"</option>")),"\n        </select>\n        </div>\n      "),showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"#e7c6c6",cancelButtonColor:"#c7b6d7"}).then(e=>{if(e.isConfirmed){let e=document.getElementById("guest-select").value;p(e.toString("")).then(()=>{m("success","Invitado eliminado correctamente")})}}).catch(()=>{m("error","No se pudo eliminar")})},x=t=>{if(t.preventDefault(),!e.name){m("error","Debe introducir nombre");return}if(!e.phone){m("error","Debe introducir tel\xe9fono");return}if(10!==e.phone.length){m("error","Debe introducir tel\xe9fono v\xe1lido");return}e.phone="+549"+e.phone,l(e)};return(0,s.jsxs)("div",{className:o().container,children:[(0,s.jsxs)("form",{onSubmit:x,className:o().form,children:[(0,s.jsx)("div",{className:o().inputWrapper,children:(0,s.jsxs)("label",{className:o().label,children:[(0,s.jsx)("p",{children:"Nombre completo:"}),(0,s.jsx)("input",{type:"text",name:"name",placeholder:"ingrese el nombre",value:e.name,onChange:v,className:o().input})]})}),(0,s.jsx)("div",{className:o().inputWrapper,children:(0,s.jsxs)("label",{className:o().label,children:[(0,s.jsx)("p",{children:"Tel\xe9fono:"}),(0,s.jsx)("input",{type:"tel",name:"phone",value:e.phone,placeholder:"3878458710",onChange:v,className:o().input})]})}),(0,s.jsx)("button",{type:"submit",className:o().button,children:"Agregar"})]}),(0,s.jsxs)("div",{className:o().divList,children:[(0,s.jsx)("h2",{children:"Invitados"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:o().List,children:[(0,s.jsx)("div",{className:o().List,children:(0,s.jsx)("b",{children:"Nombre\uD83D\uDC65"})}),(0,s.jsx)("div",{className:o().List,children:(0,s.jsx)("b",{children:"Telefono\uD83D\uDCF2"})})]}),n.length>0?n.map((e,t)=>(0,s.jsxs)("div",{className:o().List,children:[(0,s.jsxs)("div",{className:o().List,children:["✔️",e.name]}),(0,s.jsxs)("div",{className:o().List,children:[e.phone," "]})]},t)):null]}),(0,s.jsx)("button",{className:o().button,onClick:_,children:"Quitar"})]})]})};t.default=h}},function(e){e.O(0,[815,225,455,744],function(){return e(e.s=7284)}),_N_E=e.O()}]);